"use strict";(self["webpackChunkbook"]=self["webpackChunkbook"]||[]).push([[212],{1212:function(e,r,o){o.r(r),o.d(r,{default:function(){return m}});o(4114);var l=o(6768);const s={class:"login-container"};function a(e,r,o,a,t,u){const n=(0,l.g2)("User"),i=(0,l.g2)("el-icon"),d=(0,l.g2)("el-input"),m=(0,l.g2)("el-form-item"),p=(0,l.g2)("Lock"),f=(0,l.g2)("Phone"),c=(0,l.g2)("el-button"),b=(0,l.g2)("el-form");return(0,l.uX)(),(0,l.CE)("div",s,[(0,l.bF)(b,{ref:"form",model:t.form,rules:t.rules,class:"login-page"},{default:(0,l.k6)(()=>[r[7]||(r[7]=(0,l.Lk)("h2",{class:"title",style:{"margin-bottom":"20px"}},"用户注册",-1)),(0,l.bF)(m,{prop:"username"},{default:(0,l.k6)(()=>[(0,l.bF)(d,{modelValue:t.form.username,"onUpdate:modelValue":r[0]||(r[0]=e=>t.form.username=e),placeholder:"请输入用户名",clearable:""},{prefix:(0,l.k6)(()=>[(0,l.bF)(i,{class:"el-input__icon"},{default:(0,l.k6)(()=>[(0,l.bF)(n)]),_:1})]),_:1},8,["modelValue"])]),_:1}),(0,l.bF)(m,{prop:"password"},{default:(0,l.k6)(()=>[(0,l.bF)(d,{modelValue:t.form.password,"onUpdate:modelValue":r[1]||(r[1]=e=>t.form.password=e),placeholder:"请输入密码",clearable:"","show-password":""},{prefix:(0,l.k6)(()=>[(0,l.bF)(i,{class:"el-input__icon"},{default:(0,l.k6)(()=>[(0,l.bF)(p)]),_:1})]),_:1},8,["modelValue"])]),_:1}),(0,l.bF)(m,{prop:"confirm"},{default:(0,l.k6)(()=>[(0,l.bF)(d,{modelValue:t.form.confirm,"onUpdate:modelValue":r[2]||(r[2]=e=>t.form.confirm=e),placeholder:"请再次确认密码",clearable:"","show-password":""},{prefix:(0,l.k6)(()=>[(0,l.bF)(i,{class:"el-input__icon"},{default:(0,l.k6)(()=>[(0,l.bF)(p)]),_:1})]),_:1},8,["modelValue"])]),_:1}),(0,l.bF)(m,{prop:"phone"},{default:(0,l.k6)(()=>[(0,l.bF)(d,{modelValue:t.form.phone,"onUpdate:modelValue":r[3]||(r[3]=e=>t.form.phone=e),placeholder:"请输入手机号",clearable:""},{prefix:(0,l.k6)(()=>[(0,l.bF)(i,{class:"el-input__icon"},{default:(0,l.k6)(()=>[(0,l.bF)(f)]),_:1})]),_:1},8,["modelValue"])]),_:1}),(0,l.bF)(m,null,{default:(0,l.k6)(()=>[(0,l.bF)(c,{type:"primary",style:{width:"100%"},onClick:u.register},{default:(0,l.k6)(()=>[...r[5]||(r[5]=[(0,l.eW)("注 册",-1)])]),_:1},8,["onClick"])]),_:1}),(0,l.bF)(m,null,{default:(0,l.k6)(()=>[(0,l.bF)(c,{type:"text",onClick:r[4]||(r[4]=r=>e.$router.push("/login"))},{default:(0,l.k6)(()=>[...r[6]||(r[6]=[(0,l.eW)("前往登录>> ",-1)])]),_:1})]),_:1})]),_:1},8,["model","rules"])])}var t=o(5067),u=o(1219),n={name:"RegisterView",components:{},data(){return{form:{role:"2",phone:""},useMock:!1,rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:13,message:"长度要求为2到13位",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"}],confirm:[{required:!0,message:"请确认密码",trigger:"blur"}]}}},methods:{register(){this.$refs["form"].validate(e=>{if(e){if(this.form.password!=this.form.confirm)return void u.nk.error("两次密码输入不一致");t.A.post("/register",{username:this.form.username,password:this.form.password,checkpassword:this.form.confirm,phone:this.form.phone,userRole:0}).then(e=>{1===e.code||0===e.code?(u.nk.success(e.msg||"注册成功"),this.$router.push("/login")):u.nk.error(e.msg||"注册失败")})}})}}},i=o(1241);const d=(0,i.A)(n,[["render",a],["__scopeId","data-v-570390e4"]]);var m=d}}]);
//# sourceMappingURL=212.1abc1856.js.map